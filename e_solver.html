<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Electrostatic Solver</title>
		<script type="application/javascript" src="js/e_solver.js"></script>
    </head>
    <body>
		<canvas id="drawing" style="position:fixed; top:10px; left:10px; border-width:0; display:block; padding:0; margin:0;"></canvas>
		<script>
			(function() {
				var cv = document.getElementById("drawing");

				cv.onmousemove = function(e) {
					var rect = this.getBoundingClientRect();
					var offset = solver.offset;
					var x = (e.clientX - rect.left) | 0, y = (e.clientY - rect.top) | 0;
					solver.mouse(x - offset, y - offset);
				};

				var width = 400, height = 400, padding = 25;
				cv.width = width + 2*padding;
				cv.height = height + 2*padding;
				var solver = new Solver(cv.getContext("2d"), padding);

				var data = [
					[1, 0, -1,0,  0, 20],
					[1, 0, -1,0,100, 20],
					[1, 0, -1,0,200, 20],
					[1, 0, -1,0,300, 20],
					[0, 1,  3, 20,0, 20,250,  1, 125],
					[0, 4, -1, 40,0, 20,100, 71,   0],
					[0, 2, -1, 60,0, 80,100, 71,   0],
					[0, 3, -1, 80,0,200,100, 31,   0],
					[0, 4,  2,100,0, 20,250,249,-125]
				];

				solver.graph(width, height, data);
				solver.solve(true);
				animate(solver);
			})();
		</script>
	</body>
</html>